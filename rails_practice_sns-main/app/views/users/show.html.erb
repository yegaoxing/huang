<div class="main user-show">
  <div class="container">
    <div class="user">
      <img src="<%= "/user_images/#{@user.image_name}" %>">
      <h2><%= @user.name %></h2>
      <p><%= @user.email %></p>
      

        <!-- posts.show の :16行と同じように,find_byを使って条件が合致した場合 フォロー解除ボタン, 合致しない場合 フォローボタンが表示されるように実現したい。 -->
        <!-- このコードだとフォロー状態でもフォロー解除ボタンではなく,フォローボタンが表示されている。 -->
        <% if @user.id != @current_user.id%>
          <% if @follow.present? %>
            <div class="follow-menus">
              <%= button_to("フォロー解除", "/follows/#{@user.id}/destroy", {method: "post", class: "button"}) %>
            </div>

          <% else %>
            <div class="follow-menus">
              <%= button_to("フォロー","/follows/#{@user.id}", {method: "post", class: "button"})  %>
            </div>

          <% end %>  
        <% end %>


      <% if @user.id == @current_user.id %>
        <%= link_to("編集","/users/#{@user.id}/edit") %>
      <% end %>  
    </div>

    <ul class="user-tabs">
      <li class="active"><%= link_to("投稿", "/users/#{@user.id}") %></li>
      <li><%= link_to("いいね!", "/users/#{@user.id}/likes") %></li>
      <li><%= link_to("フォロー一覧", "/follows") %></li>
      <li><%= link_to("フォロワー一覧", "/followers") %></li>
    </ul>

    <% @user.posts.each do |post| %>
      <div class="posts-index-item">
        <div class="post-left">
          <img src="<%= "/user_images/#{post.user.image_name}" %>">
        </div>
        <div class="post-right">
          <div class="post-user-name">
            <%= link_to(post.user.name,"/users/#{post.user.id}") %>
          </div>
          <%= link_to(post.content, "/posts/#{post.id}") %>
        </div>
      </div>
    <% end %>
  </div>
</div>